(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(t,e,n){"use strict";var o=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function a(t){try{u(o.next(t))}catch(t){r(t)}}function s(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((o=o.apply(t,e||[])).next())}))};let i=void 0;e.a=function(){return o(this,void 0,void 0,(function*(){if(void 0!==i)return i;const t=yield import("https://unpkg.com/@webgpu/glslang@0.0.15/dist/web-devel/glslang.js");return i=yield t.default(),i}))}},14:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return s}));const o=40,i=0,r=16,a=32,s=new Float32Array([1,-1,1,1,1,0,1,1,1,1,-1,-1,1,1,0,0,1,1,0,1,-1,-1,-1,1,0,0,0,1,0,0,1,-1,-1,1,1,0,0,1,1,0,1,-1,1,1,1,0,1,1,1,1,-1,-1,-1,1,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,-1,1,1,1,0,1,1,0,1,1,-1,-1,1,1,0,0,1,0,0,1,1,-1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,-1,-1,1,1,0,0,1,0,0,-1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,-1,1,1,1,0,1,0,0,-1,1,-1,1,0,1,0,1,1,0,-1,1,1,1,0,1,1,1,1,1,1,1,-1,1,1,1,0,1,0,0,-1,-1,1,1,0,0,1,1,1,1,-1,1,1,1,0,1,1,1,0,1,-1,1,-1,1,0,1,0,1,0,0,-1,-1,-1,1,0,0,0,1,1,0,-1,-1,1,1,0,0,1,1,1,1,-1,1,-1,1,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,-1,1,1,1,0,1,1,1,0,1,-1,-1,1,1,0,0,1,1,0,0,-1,-1,1,1,0,0,1,1,0,0,1,-1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,-1,-1,1,1,0,0,1,1,1,-1,-1,-1,1,0,0,0,1,0,1,-1,1,-1,1,0,1,0,1,0,0,1,1,-1,1,1,1,0,1,1,0,1,-1,-1,1,1,0,0,1,1,1,-1,1,-1,1,0,1,0,1,0,0])},15:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var o={};n.r(o),n.d(o,"create",(function(){return u})),n.d(o,"clone",(function(){return l})),n.d(o,"copy",(function(){return c})),n.d(o,"fromValues",(function(){return d})),n.d(o,"set",(function(){return h})),n.d(o,"identity",(function(){return f})),n.d(o,"transpose",(function(){return _})),n.d(o,"invert",(function(){return p})),n.d(o,"adjoint",(function(){return m})),n.d(o,"determinant",(function(){return b})),n.d(o,"multiply",(function(){return g})),n.d(o,"translate",(function(){return v})),n.d(o,"scale",(function(){return y})),n.d(o,"rotate",(function(){return w})),n.d(o,"rotateX",(function(){return x})),n.d(o,"rotateY",(function(){return E})),n.d(o,"rotateZ",(function(){return A})),n.d(o,"fromTranslation",(function(){return M})),n.d(o,"fromScaling",(function(){return C})),n.d(o,"fromRotation",(function(){return k})),n.d(o,"fromXRotation",(function(){return S})),n.d(o,"fromYRotation",(function(){return O})),n.d(o,"fromZRotation",(function(){return T})),n.d(o,"fromRotationTranslation",(function(){return R})),n.d(o,"fromQuat2",(function(){return L})),n.d(o,"getTranslation",(function(){return B})),n.d(o,"getScaling",(function(){return N})),n.d(o,"getRotation",(function(){return H})),n.d(o,"fromRotationTranslationScale",(function(){return F})),n.d(o,"fromRotationTranslationScaleOrigin",(function(){return P})),n.d(o,"fromQuat",(function(){return D})),n.d(o,"frustum",(function(){return V})),n.d(o,"perspective",(function(){return j})),n.d(o,"perspectiveFromFieldOfView",(function(){return I})),n.d(o,"ortho",(function(){return z})),n.d(o,"lookAt",(function(){return G})),n.d(o,"targetTo",(function(){return U})),n.d(o,"str",(function(){return X})),n.d(o,"frob",(function(){return q})),n.d(o,"add",(function(){return Y})),n.d(o,"subtract",(function(){return J})),n.d(o,"multiplyScalar",(function(){return K})),n.d(o,"multiplyScalarAndAdd",(function(){return Q})),n.d(o,"exactEquals",(function(){return W})),n.d(o,"equals",(function(){return Z})),n.d(o,"mul",(function(){return $})),n.d(o,"sub",(function(){return tt}));var i={};n.r(i),n.d(i,"create",(function(){return et})),n.d(i,"clone",(function(){return nt})),n.d(i,"length",(function(){return ot})),n.d(i,"fromValues",(function(){return it})),n.d(i,"copy",(function(){return rt})),n.d(i,"set",(function(){return at})),n.d(i,"add",(function(){return st})),n.d(i,"subtract",(function(){return ut})),n.d(i,"multiply",(function(){return lt})),n.d(i,"divide",(function(){return ct})),n.d(i,"ceil",(function(){return dt})),n.d(i,"floor",(function(){return ht})),n.d(i,"min",(function(){return ft})),n.d(i,"max",(function(){return _t})),n.d(i,"round",(function(){return pt})),n.d(i,"scale",(function(){return mt})),n.d(i,"scaleAndAdd",(function(){return bt})),n.d(i,"distance",(function(){return gt})),n.d(i,"squaredDistance",(function(){return vt})),n.d(i,"squaredLength",(function(){return yt})),n.d(i,"negate",(function(){return wt})),n.d(i,"inverse",(function(){return xt})),n.d(i,"normalize",(function(){return Et})),n.d(i,"dot",(function(){return At})),n.d(i,"cross",(function(){return Mt})),n.d(i,"lerp",(function(){return Ct})),n.d(i,"hermite",(function(){return kt})),n.d(i,"bezier",(function(){return St})),n.d(i,"random",(function(){return Ot})),n.d(i,"transformMat4",(function(){return Tt})),n.d(i,"transformMat3",(function(){return Rt})),n.d(i,"transformQuat",(function(){return Lt})),n.d(i,"rotateX",(function(){return Bt})),n.d(i,"rotateY",(function(){return Nt})),n.d(i,"rotateZ",(function(){return Ht})),n.d(i,"angle",(function(){return Ft})),n.d(i,"zero",(function(){return Pt})),n.d(i,"str",(function(){return Dt})),n.d(i,"exactEquals",(function(){return Vt})),n.d(i,"equals",(function(){return jt})),n.d(i,"sub",(function(){return zt})),n.d(i,"mul",(function(){return Gt})),n.d(i,"div",(function(){return Ut})),n.d(i,"dist",(function(){return Xt})),n.d(i,"sqrDist",(function(){return qt})),n.d(i,"len",(function(){return Yt})),n.d(i,"sqrLen",(function(){return Jt})),n.d(i,"forEach",(function(){return Kt}));var r=1e-6,a="undefined"!=typeof Float32Array?Float32Array:Array,s=Math.random;Math.PI;function u(){var t=new a(16);return a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function l(t){var e=new a(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function d(t,e,n,o,i,r,s,u,l,c,d,h,f,_,p,m){var b=new a(16);return b[0]=t,b[1]=e,b[2]=n,b[3]=o,b[4]=i,b[5]=r,b[6]=s,b[7]=u,b[8]=l,b[9]=c,b[10]=d,b[11]=h,b[12]=f,b[13]=_,b[14]=p,b[15]=m,b}function h(t,e,n,o,i,r,a,s,u,l,c,d,h,f,_,p,m){return t[0]=e,t[1]=n,t[2]=o,t[3]=i,t[4]=r,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=d,t[11]=h,t[12]=f,t[13]=_,t[14]=p,t[15]=m,t}function f(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,e){if(t===e){var n=e[1],o=e[2],i=e[3],r=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=o,t[9]=r,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function p(t,e){var n=e[0],o=e[1],i=e[2],r=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=e[9],h=e[10],f=e[11],_=e[12],p=e[13],m=e[14],b=e[15],g=n*s-o*a,v=n*u-i*a,y=n*l-r*a,w=o*u-i*s,x=o*l-r*s,E=i*l-r*u,A=c*p-d*_,M=c*m-h*_,C=c*b-f*_,k=d*m-h*p,S=d*b-f*p,O=h*b-f*m,T=g*O-v*S+y*k+w*C-x*M+E*A;return T?(T=1/T,t[0]=(s*O-u*S+l*k)*T,t[1]=(i*S-o*O-r*k)*T,t[2]=(p*E-m*x+b*w)*T,t[3]=(h*x-d*E-f*w)*T,t[4]=(u*C-a*O-l*M)*T,t[5]=(n*O-i*C+r*M)*T,t[6]=(m*y-_*E-b*v)*T,t[7]=(c*E-h*y+f*v)*T,t[8]=(a*S-s*C+l*A)*T,t[9]=(o*C-n*S-r*A)*T,t[10]=(_*x-p*y+b*g)*T,t[11]=(d*y-c*x-f*g)*T,t[12]=(s*M-a*k-u*A)*T,t[13]=(n*k-o*M+i*A)*T,t[14]=(p*v-_*w-m*g)*T,t[15]=(c*w-d*v+h*g)*T,t):null}function m(t,e){var n=e[0],o=e[1],i=e[2],r=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=e[9],h=e[10],f=e[11],_=e[12],p=e[13],m=e[14],b=e[15];return t[0]=s*(h*b-f*m)-d*(u*b-l*m)+p*(u*f-l*h),t[1]=-(o*(h*b-f*m)-d*(i*b-r*m)+p*(i*f-r*h)),t[2]=o*(u*b-l*m)-s*(i*b-r*m)+p*(i*l-r*u),t[3]=-(o*(u*f-l*h)-s*(i*f-r*h)+d*(i*l-r*u)),t[4]=-(a*(h*b-f*m)-c*(u*b-l*m)+_*(u*f-l*h)),t[5]=n*(h*b-f*m)-c*(i*b-r*m)+_*(i*f-r*h),t[6]=-(n*(u*b-l*m)-a*(i*b-r*m)+_*(i*l-r*u)),t[7]=n*(u*f-l*h)-a*(i*f-r*h)+c*(i*l-r*u),t[8]=a*(d*b-f*p)-c*(s*b-l*p)+_*(s*f-l*d),t[9]=-(n*(d*b-f*p)-c*(o*b-r*p)+_*(o*f-r*d)),t[10]=n*(s*b-l*p)-a*(o*b-r*p)+_*(o*l-r*s),t[11]=-(n*(s*f-l*d)-a*(o*f-r*d)+c*(o*l-r*s)),t[12]=-(a*(d*m-h*p)-c*(s*m-u*p)+_*(s*h-u*d)),t[13]=n*(d*m-h*p)-c*(o*m-i*p)+_*(o*h-i*d),t[14]=-(n*(s*m-u*p)-a*(o*m-i*p)+_*(o*u-i*s)),t[15]=n*(s*h-u*d)-a*(o*h-i*d)+c*(o*u-i*s),t}function b(t){var e=t[0],n=t[1],o=t[2],i=t[3],r=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],d=t[10],h=t[11],f=t[12],_=t[13],p=t[14],m=t[15];return(e*a-n*r)*(d*m-h*p)-(e*s-o*r)*(c*m-h*_)+(e*u-i*r)*(c*p-d*_)+(n*s-o*a)*(l*m-h*f)-(n*u-i*a)*(l*p-d*f)+(o*u-i*s)*(l*_-c*f)}function g(t,e,n){var o=e[0],i=e[1],r=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],h=e[9],f=e[10],_=e[11],p=e[12],m=e[13],b=e[14],g=e[15],v=n[0],y=n[1],w=n[2],x=n[3];return t[0]=v*o+y*s+w*d+x*p,t[1]=v*i+y*u+w*h+x*m,t[2]=v*r+y*l+w*f+x*b,t[3]=v*a+y*c+w*_+x*g,v=n[4],y=n[5],w=n[6],x=n[7],t[4]=v*o+y*s+w*d+x*p,t[5]=v*i+y*u+w*h+x*m,t[6]=v*r+y*l+w*f+x*b,t[7]=v*a+y*c+w*_+x*g,v=n[8],y=n[9],w=n[10],x=n[11],t[8]=v*o+y*s+w*d+x*p,t[9]=v*i+y*u+w*h+x*m,t[10]=v*r+y*l+w*f+x*b,t[11]=v*a+y*c+w*_+x*g,v=n[12],y=n[13],w=n[14],x=n[15],t[12]=v*o+y*s+w*d+x*p,t[13]=v*i+y*u+w*h+x*m,t[14]=v*r+y*l+w*f+x*b,t[15]=v*a+y*c+w*_+x*g,t}function v(t,e,n){var o,i,r,a,s,u,l,c,d,h,f,_,p=n[0],m=n[1],b=n[2];return e===t?(t[12]=e[0]*p+e[4]*m+e[8]*b+e[12],t[13]=e[1]*p+e[5]*m+e[9]*b+e[13],t[14]=e[2]*p+e[6]*m+e[10]*b+e[14],t[15]=e[3]*p+e[7]*m+e[11]*b+e[15]):(o=e[0],i=e[1],r=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],h=e[9],f=e[10],_=e[11],t[0]=o,t[1]=i,t[2]=r,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=d,t[9]=h,t[10]=f,t[11]=_,t[12]=o*p+s*m+d*b+e[12],t[13]=i*p+u*m+h*b+e[13],t[14]=r*p+l*m+f*b+e[14],t[15]=a*p+c*m+_*b+e[15]),t}function y(t,e,n){var o=n[0],i=n[1],r=n[2];return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function w(t,e,n,o){var i,a,s,u,l,c,d,h,f,_,p,m,b,g,v,y,w,x,E,A,M,C,k,S,O=o[0],T=o[1],R=o[2],L=Math.hypot(O,T,R);return L<r?null:(O*=L=1/L,T*=L,R*=L,i=Math.sin(n),s=1-(a=Math.cos(n)),u=e[0],l=e[1],c=e[2],d=e[3],h=e[4],f=e[5],_=e[6],p=e[7],m=e[8],b=e[9],g=e[10],v=e[11],y=O*O*s+a,w=T*O*s+R*i,x=R*O*s-T*i,E=O*T*s-R*i,A=T*T*s+a,M=R*T*s+O*i,C=O*R*s+T*i,k=T*R*s-O*i,S=R*R*s+a,t[0]=u*y+h*w+m*x,t[1]=l*y+f*w+b*x,t[2]=c*y+_*w+g*x,t[3]=d*y+p*w+v*x,t[4]=u*E+h*A+m*M,t[5]=l*E+f*A+b*M,t[6]=c*E+_*A+g*M,t[7]=d*E+p*A+v*M,t[8]=u*C+h*k+m*S,t[9]=l*C+f*k+b*S,t[10]=c*C+_*k+g*S,t[11]=d*C+p*k+v*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function x(t,e,n){var o=Math.sin(n),i=Math.cos(n),r=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],d=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=r*i+l*o,t[5]=a*i+c*o,t[6]=s*i+d*o,t[7]=u*i+h*o,t[8]=l*i-r*o,t[9]=c*i-a*o,t[10]=d*i-s*o,t[11]=h*i-u*o,t}function E(t,e,n){var o=Math.sin(n),i=Math.cos(n),r=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],d=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*i-l*o,t[1]=a*i-c*o,t[2]=s*i-d*o,t[3]=u*i-h*o,t[8]=r*o+l*i,t[9]=a*o+c*i,t[10]=s*o+d*i,t[11]=u*o+h*i,t}function A(t,e,n){var o=Math.sin(n),i=Math.cos(n),r=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],d=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*i+l*o,t[1]=a*i+c*o,t[2]=s*i+d*o,t[3]=u*i+h*o,t[4]=l*i-r*o,t[5]=c*i-a*o,t[6]=d*i-s*o,t[7]=h*i-u*o,t}function M(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function C(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function k(t,e,n){var o,i,a,s=n[0],u=n[1],l=n[2],c=Math.hypot(s,u,l);return c<r?null:(s*=c=1/c,u*=c,l*=c,o=Math.sin(e),a=1-(i=Math.cos(e)),t[0]=s*s*a+i,t[1]=u*s*a+l*o,t[2]=l*s*a-u*o,t[3]=0,t[4]=s*u*a-l*o,t[5]=u*u*a+i,t[6]=l*u*a+s*o,t[7]=0,t[8]=s*l*a+u*o,t[9]=u*l*a-s*o,t[10]=l*l*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function S(t,e){var n=Math.sin(e),o=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function O(t,e){var n=Math.sin(e),o=Math.cos(e);return t[0]=o,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,e){var n=Math.sin(e),o=Math.cos(e);return t[0]=o,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R(t,e,n){var o=e[0],i=e[1],r=e[2],a=e[3],s=o+o,u=i+i,l=r+r,c=o*s,d=o*u,h=o*l,f=i*u,_=i*l,p=r*l,m=a*s,b=a*u,g=a*l;return t[0]=1-(f+p),t[1]=d+g,t[2]=h-b,t[3]=0,t[4]=d-g,t[5]=1-(c+p),t[6]=_+m,t[7]=0,t[8]=h+b,t[9]=_-m,t[10]=1-(c+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function L(t,e){var n=new a(3),o=-e[0],i=-e[1],r=-e[2],s=e[3],u=e[4],l=e[5],c=e[6],d=e[7],h=o*o+i*i+r*r+s*s;return h>0?(n[0]=2*(u*s+d*o+l*r-c*i)/h,n[1]=2*(l*s+d*i+c*o-u*r)/h,n[2]=2*(c*s+d*r+u*i-l*o)/h):(n[0]=2*(u*s+d*o+l*r-c*i),n[1]=2*(l*s+d*i+c*o-u*r),n[2]=2*(c*s+d*r+u*i-l*o)),R(t,e,n),t}function B(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function N(t,e){var n=e[0],o=e[1],i=e[2],r=e[4],a=e[5],s=e[6],u=e[8],l=e[9],c=e[10];return t[0]=Math.hypot(n,o,i),t[1]=Math.hypot(r,a,s),t[2]=Math.hypot(u,l,c),t}function H(t,e){var n=new a(3);N(n,e);var o=1/n[0],i=1/n[1],r=1/n[2],s=e[0]*o,u=e[1]*i,l=e[2]*r,c=e[4]*o,d=e[5]*i,h=e[6]*r,f=e[8]*o,_=e[9]*i,p=e[10]*r,m=s+d+p,b=0;return m>0?(b=2*Math.sqrt(m+1),t[3]=.25*b,t[0]=(h-_)/b,t[1]=(f-l)/b,t[2]=(u-c)/b):s>d&&s>p?(b=2*Math.sqrt(1+s-d-p),t[3]=(h-_)/b,t[0]=.25*b,t[1]=(u+c)/b,t[2]=(f+l)/b):d>p?(b=2*Math.sqrt(1+d-s-p),t[3]=(f-l)/b,t[0]=(u+c)/b,t[1]=.25*b,t[2]=(h+_)/b):(b=2*Math.sqrt(1+p-s-d),t[3]=(u-c)/b,t[0]=(f+l)/b,t[1]=(h+_)/b,t[2]=.25*b),t}function F(t,e,n,o){var i=e[0],r=e[1],a=e[2],s=e[3],u=i+i,l=r+r,c=a+a,d=i*u,h=i*l,f=i*c,_=r*l,p=r*c,m=a*c,b=s*u,g=s*l,v=s*c,y=o[0],w=o[1],x=o[2];return t[0]=(1-(_+m))*y,t[1]=(h+v)*y,t[2]=(f-g)*y,t[3]=0,t[4]=(h-v)*w,t[5]=(1-(d+m))*w,t[6]=(p+b)*w,t[7]=0,t[8]=(f+g)*x,t[9]=(p-b)*x,t[10]=(1-(d+_))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function P(t,e,n,o,i){var r=e[0],a=e[1],s=e[2],u=e[3],l=r+r,c=a+a,d=s+s,h=r*l,f=r*c,_=r*d,p=a*c,m=a*d,b=s*d,g=u*l,v=u*c,y=u*d,w=o[0],x=o[1],E=o[2],A=i[0],M=i[1],C=i[2],k=(1-(p+b))*w,S=(f+y)*w,O=(_-v)*w,T=(f-y)*x,R=(1-(h+b))*x,L=(m+g)*x,B=(_+v)*E,N=(m-g)*E,H=(1-(h+p))*E;return t[0]=k,t[1]=S,t[2]=O,t[3]=0,t[4]=T,t[5]=R,t[6]=L,t[7]=0,t[8]=B,t[9]=N,t[10]=H,t[11]=0,t[12]=n[0]+A-(k*A+T*M+B*C),t[13]=n[1]+M-(S*A+R*M+N*C),t[14]=n[2]+C-(O*A+L*M+H*C),t[15]=1,t}function D(t,e){var n=e[0],o=e[1],i=e[2],r=e[3],a=n+n,s=o+o,u=i+i,l=n*a,c=o*a,d=o*s,h=i*a,f=i*s,_=i*u,p=r*a,m=r*s,b=r*u;return t[0]=1-d-_,t[1]=c+b,t[2]=h-m,t[3]=0,t[4]=c-b,t[5]=1-l-_,t[6]=f+p,t[7]=0,t[8]=h+m,t[9]=f-p,t[10]=1-l-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function V(t,e,n,o,i,r,a){var s=1/(n-e),u=1/(i-o),l=1/(r-a);return t[0]=2*r*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*r*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+o)*u,t[10]=(a+r)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*r*2*l,t[15]=0,t}function j(t,e,n,o,i){var r,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(r=1/(o-i),t[10]=(i+o)*r,t[14]=2*i*o*r):(t[10]=-1,t[14]=-2*o),t}function I(t,e,n,o){var i=Math.tan(e.upDegrees*Math.PI/180),r=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+r);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-r)*l*.5,t[10]=o/(n-o),t[11]=-1,t[12]=0,t[13]=0,t[14]=o*n/(n-o),t[15]=0,t}function z(t,e,n,o,i,r,a){var s=1/(e-n),u=1/(o-i),l=1/(r-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+o)*u,t[14]=(a+r)*l,t[15]=1,t}function G(t,e,n,o){var i,a,s,u,l,c,d,h,_,p,m=e[0],b=e[1],g=e[2],v=o[0],y=o[1],w=o[2],x=n[0],E=n[1],A=n[2];return Math.abs(m-x)<r&&Math.abs(b-E)<r&&Math.abs(g-A)<r?f(t):(d=m-x,h=b-E,_=g-A,i=y*(_*=p=1/Math.hypot(d,h,_))-w*(h*=p),a=w*(d*=p)-v*_,s=v*h-y*d,(p=Math.hypot(i,a,s))?(i*=p=1/p,a*=p,s*=p):(i=0,a=0,s=0),u=h*s-_*a,l=_*i-d*s,c=d*a-h*i,(p=Math.hypot(u,l,c))?(u*=p=1/p,l*=p,c*=p):(u=0,l=0,c=0),t[0]=i,t[1]=u,t[2]=d,t[3]=0,t[4]=a,t[5]=l,t[6]=h,t[7]=0,t[8]=s,t[9]=c,t[10]=_,t[11]=0,t[12]=-(i*m+a*b+s*g),t[13]=-(u*m+l*b+c*g),t[14]=-(d*m+h*b+_*g),t[15]=1,t)}function U(t,e,n,o){var i=e[0],r=e[1],a=e[2],s=o[0],u=o[1],l=o[2],c=i-n[0],d=r-n[1],h=a-n[2],f=c*c+d*d+h*h;f>0&&(c*=f=1/Math.sqrt(f),d*=f,h*=f);var _=u*h-l*d,p=l*c-s*h,m=s*d-u*c;return(f=_*_+p*p+m*m)>0&&(_*=f=1/Math.sqrt(f),p*=f,m*=f),t[0]=_,t[1]=p,t[2]=m,t[3]=0,t[4]=d*m-h*p,t[5]=h*_-c*m,t[6]=c*p-d*_,t[7]=0,t[8]=c,t[9]=d,t[10]=h,t[11]=0,t[12]=i,t[13]=r,t[14]=a,t[15]=1,t}function X(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function q(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Y(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function J(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function K(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Q(t,e,n,o){return t[0]=e[0]+n[0]*o,t[1]=e[1]+n[1]*o,t[2]=e[2]+n[2]*o,t[3]=e[3]+n[3]*o,t[4]=e[4]+n[4]*o,t[5]=e[5]+n[5]*o,t[6]=e[6]+n[6]*o,t[7]=e[7]+n[7]*o,t[8]=e[8]+n[8]*o,t[9]=e[9]+n[9]*o,t[10]=e[10]+n[10]*o,t[11]=e[11]+n[11]*o,t[12]=e[12]+n[12]*o,t[13]=e[13]+n[13]*o,t[14]=e[14]+n[14]*o,t[15]=e[15]+n[15]*o,t}function W(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Z(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],h=t[9],f=t[10],_=t[11],p=t[12],m=t[13],b=t[14],g=t[15],v=e[0],y=e[1],w=e[2],x=e[3],E=e[4],A=e[5],M=e[6],C=e[7],k=e[8],S=e[9],O=e[10],T=e[11],R=e[12],L=e[13],B=e[14],N=e[15];return Math.abs(n-v)<=r*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(o-y)<=r*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(i-w)<=r*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(a-x)<=r*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-E)<=r*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-A)<=r*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(l-M)<=r*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(c-C)<=r*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(d-k)<=r*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(h-S)<=r*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(f-O)<=r*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(_-T)<=r*Math.max(1,Math.abs(_),Math.abs(T))&&Math.abs(p-R)<=r*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(m-L)<=r*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(b-B)<=r*Math.max(1,Math.abs(b),Math.abs(B))&&Math.abs(g-N)<=r*Math.max(1,Math.abs(g),Math.abs(N))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var $=g,tt=J;function et(){var t=new a(3);return a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function nt(t){var e=new a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function ot(t){var e=t[0],n=t[1],o=t[2];return Math.hypot(e,n,o)}function it(t,e,n){var o=new a(3);return o[0]=t,o[1]=e,o[2]=n,o}function rt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function at(t,e,n,o){return t[0]=e,t[1]=n,t[2]=o,t}function st(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function ut(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function lt(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function ct(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function dt(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function ht(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function ft(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function _t(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function pt(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function mt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function bt(t,e,n,o){return t[0]=e[0]+n[0]*o,t[1]=e[1]+n[1]*o,t[2]=e[2]+n[2]*o,t}function gt(t,e){var n=e[0]-t[0],o=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,o,i)}function vt(t,e){var n=e[0]-t[0],o=e[1]-t[1],i=e[2]-t[2];return n*n+o*o+i*i}function yt(t){var e=t[0],n=t[1],o=t[2];return e*e+n*n+o*o}function wt(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function xt(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Et(t,e){var n=e[0],o=e[1],i=e[2],r=n*n+o*o+i*i;return r>0&&(r=1/Math.sqrt(r)),t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function At(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Mt(t,e,n){var o=e[0],i=e[1],r=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-r*s,t[1]=r*a-o*u,t[2]=o*s-i*a,t}function Ct(t,e,n,o){var i=e[0],r=e[1],a=e[2];return t[0]=i+o*(n[0]-i),t[1]=r+o*(n[1]-r),t[2]=a+o*(n[2]-a),t}function kt(t,e,n,o,i,r){var a=r*r,s=a*(2*r-3)+1,u=a*(r-2)+r,l=a*(r-1),c=a*(3-2*r);return t[0]=e[0]*s+n[0]*u+o[0]*l+i[0]*c,t[1]=e[1]*s+n[1]*u+o[1]*l+i[1]*c,t[2]=e[2]*s+n[2]*u+o[2]*l+i[2]*c,t}function St(t,e,n,o,i,r){var a=1-r,s=a*a,u=r*r,l=s*a,c=3*r*s,d=3*u*a,h=u*r;return t[0]=e[0]*l+n[0]*c+o[0]*d+i[0]*h,t[1]=e[1]*l+n[1]*c+o[1]*d+i[1]*h,t[2]=e[2]*l+n[2]*c+o[2]*d+i[2]*h,t}function Ot(t,e){e=e||1;var n=2*s()*Math.PI,o=2*s()-1,i=Math.sqrt(1-o*o)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=o*e,t}function Tt(t,e,n){var o=e[0],i=e[1],r=e[2],a=n[3]*o+n[7]*i+n[11]*r+n[15];return a=a||1,t[0]=(n[0]*o+n[4]*i+n[8]*r+n[12])/a,t[1]=(n[1]*o+n[5]*i+n[9]*r+n[13])/a,t[2]=(n[2]*o+n[6]*i+n[10]*r+n[14])/a,t}function Rt(t,e,n){var o=e[0],i=e[1],r=e[2];return t[0]=o*n[0]+i*n[3]+r*n[6],t[1]=o*n[1]+i*n[4]+r*n[7],t[2]=o*n[2]+i*n[5]+r*n[8],t}function Lt(t,e,n){var o=n[0],i=n[1],r=n[2],a=n[3],s=e[0],u=e[1],l=e[2],c=i*l-r*u,d=r*s-o*l,h=o*u-i*s,f=i*h-r*d,_=r*c-o*h,p=o*d-i*c,m=2*a;return c*=m,d*=m,h*=m,f*=2,_*=2,p*=2,t[0]=s+c+f,t[1]=u+d+_,t[2]=l+h+p,t}function Bt(t,e,n,o){var i=[],r=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],r[0]=i[0],r[1]=i[1]*Math.cos(o)-i[2]*Math.sin(o),r[2]=i[1]*Math.sin(o)+i[2]*Math.cos(o),t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function Nt(t,e,n,o){var i=[],r=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],r[0]=i[2]*Math.sin(o)+i[0]*Math.cos(o),r[1]=i[1],r[2]=i[2]*Math.cos(o)-i[0]*Math.sin(o),t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function Ht(t,e,n,o){var i=[],r=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],r[0]=i[0]*Math.cos(o)-i[1]*Math.sin(o),r[1]=i[0]*Math.sin(o)+i[1]*Math.cos(o),r[2]=i[2],t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function Ft(t,e){var n=t[0],o=t[1],i=t[2],r=e[0],a=e[1],s=e[2],u=Math.sqrt(n*n+o*o+i*i)*Math.sqrt(r*r+a*a+s*s),l=u&&At(t,e)/u;return Math.acos(Math.min(Math.max(l,-1),1))}function Pt(t){return t[0]=0,t[1]=0,t[2]=0,t}function Dt(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Vt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function jt(t,e){var n=t[0],o=t[1],i=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=r*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-s)<=r*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-u)<=r*Math.max(1,Math.abs(i),Math.abs(u))}var It,zt=ut,Gt=lt,Ut=ct,Xt=gt,qt=vt,Yt=ot,Jt=yt,Kt=(It=et(),function(t,e,n,o,i,r){var a,s;for(e||(e=3),n||(n=0),s=o?Math.min(o*e+n,t.length):t.length,a=n;a<s;a+=e)It[0]=t[a],It[1]=t[a+1],It[2]=t[a+2],i(It,It,r),t[a]=It[0],t[a+1]=It[1],t[a+2]=It[2];return t})},16:function(t,e,n){"use strict";function o(t,e){var n=t.__state.conversionName.toString(),o=Math.round(t.r),i=Math.round(t.g),r=Math.round(t.b),a=t.a,s=Math.round(t.h),u=t.s.toFixed(1),l=t.v.toFixed(1);if(e||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var c=t.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===n?"rgb("+o+","+i+","+r+")":"CSS_RGBA"===n?"rgba("+o+","+i+","+r+","+a+")":"HEX"===n?"0x"+t.hex.toString(16):"RGB_ARRAY"===n?"["+o+","+i+","+r+"]":"RGBA_ARRAY"===n?"["+o+","+i+","+r+","+a+"]":"RGB_OBJ"===n?"{r:"+o+",g:"+i+",b:"+r+"}":"RGBA_OBJ"===n?"{r:"+o+",g:"+i+",b:"+r+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+u+",v:"+l+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+u+",v:"+l+",a:"+a+"}":"unknown format"}n.d(e,"a",(function(){return lt}));var i=Array.prototype.forEach,r=Array.prototype.slice,a={BREAK:{},extend:function(t){return this.each(r.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))}),this),t},defaults:function(t){return this.each(r.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))}),this),t},compose:function(){var t=r.call(arguments);return function(){for(var e=r.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(t)if(i&&t.forEach&&t.forEach===i)t.forEach(e,n);else if(t.length===t.length+0){var o,r=void 0;for(r=0,o=t.length;r<o;r++)if(r in t&&e.call(n,t[r],r)===this.BREAK)return}else for(var a in t)if(e.call(n,t[a],a)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var o=void 0;return function(){var i=this,r=arguments;function a(){o=null,n||t.apply(i,r)}var s=n||!o;clearTimeout(o),o=setTimeout(a,e),s&&t.apply(i,r)}},toArray:function(t){return t.toArray?t.toArray():r.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return isNaN(t)})),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return t instanceof Function}},s=[{litmus:a.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:o},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:o},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:o},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:o}}},{litmus:a.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:a.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:a.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(a.isNumber(t.r)&&a.isNumber(t.g)&&a.isNumber(t.b)&&a.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(a.isNumber(t.r)&&a.isNumber(t.g)&&a.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(a.isNumber(t.h)&&a.isNumber(t.s)&&a.isNumber(t.v)&&a.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(a.isNumber(t.h)&&a.isNumber(t.s)&&a.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],u=void 0,l=void 0,c=function(){l=!1;var t=arguments.length>1?a.toArray(arguments):arguments[0];return a.each(s,(function(e){if(e.litmus(t))return a.each(e.conversions,(function(e,n){if(u=e.read(t),!1===l&&!1!==u)return l=u,u.conversionName=n,u.conversion=e,a.BREAK})),a.BREAK})),l},d=void 0,h={hsv_to_rgb:function(t,e,n){var o=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),r=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=[[n,s,r],[a,n,r],[r,n,s],[r,a,n],[s,r,n],[n,r,a]][o];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,n){var o=Math.min(t,e,n),i=Math.max(t,e,n),r=i-o,a=void 0;return 0===i?{h:NaN,s:0,v:0}:(a=t===i?(e-n)/r:e===i?2+(n-t)/r:4+(t-e)/r,(a/=6)<0&&(a+=1),{h:360*a,s:r/i,v:i/255})},rgb_to_hex:function(t,e,n){var o=this.hex_with_component(0,2,t);return o=this.hex_with_component(o,1,e),o=this.hex_with_component(o,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(d=8*e)|t&~(255<<d)}},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},p=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),m=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(o):void 0},b=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},g=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},v=function(){function t(){if(_(this,t),this.__state=c.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return p(t,[{key:"toString",value:function(){return o(this)}},{key:"toHexString",value:function(){return o(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function y(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space||v.recalculateRGB(this,e,n),this.__state[e]},set:function(t){"RGB"!==this.__state.space&&(v.recalculateRGB(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function w(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space||v.recalculateHSV(this),this.__state[e]},set:function(t){"HSV"!==this.__state.space&&(v.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=t}})}v.recalculateRGB=function(t,e,n){if("HEX"===t.__state.space)t.__state[e]=h.component_from_hex(t.__state.hex,n);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");a.extend(t.__state,h.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},v.recalculateHSV=function(t){var e=h.rgb_to_hsv(t.r,t.g,t.b);a.extend(t.__state,{s:e.s,v:e.v}),a.isNaN(e.h)?a.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},v.COMPONENTS=["r","g","b","h","s","v","hex","a"],y(v.prototype,"r",2),y(v.prototype,"g",1),y(v.prototype,"b",0),w(v.prototype,"h"),w(v.prototype,"s"),w(v.prototype,"v"),Object.defineProperty(v.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(v.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=h.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var x=function(){function t(e,n){_(this,t),this.initialValue=e[n],this.domElement=document.createElement("div"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return p(t,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),E={};a.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(t,e){a.each(t,(function(t){E[t]=e}))}));var A=/(\d+(\.\d+)?)px/;function M(t){if("0"===t||a.isUndefined(t))return 0;var e=t.match(A);return a.isNull(e)?0:parseFloat(e[1])}var C={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,n){var o=n,i=e;a.isUndefined(i)&&(i=!0),a.isUndefined(o)&&(o=!0),t.style.position="absolute",i&&(t.style.left=0,t.style.right=0),o&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,o){var i=n||{},r=E[e];if(!r)throw new Error("Event type "+e+" not supported.");var s=document.createEvent(r);switch(r){case"MouseEvents":var u=i.x||i.clientX||0,l=i.y||i.clientY||0;s.initMouseEvent(e,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,u,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=s.initKeyboardEvent||s.initKeyEvent;a.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(e,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:s.initEvent(e,i.bubbles||!1,i.cancelable||!0)}a.defaults(s,o),t.dispatchEvent(s)},bind:function(t,e,n,o){var i=o||!1;return t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n),C},unbind:function(t,e,n,o){var i=o||!1;return t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n),C},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1===n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return C},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),o=n.indexOf(e);-1!==o&&(n.splice(o,1),t.className=n.join(" "))}else t.className=void 0;return C},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return M(e["border-left-width"])+M(e["border-right-width"])+M(e["padding-left"])+M(e["padding-right"])+M(e.width)},getHeight:function(t){var e=getComputedStyle(t);return M(e["border-top-width"])+M(e["border-bottom-width"])+M(e["padding-top"])+M(e["padding-bottom"])+M(e.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do{n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent}while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},k=function(t){function e(t,n){_(this,e);var o=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=o;return o.__prev=o.getValue(),o.__checkbox=document.createElement("input"),o.__checkbox.setAttribute("type","checkbox"),C.bind(o.__checkbox,"change",(function(){i.setValue(!i.__prev)}),!1),o.domElement.appendChild(o.__checkbox),o.updateDisplay(),o}return b(e,t),p(e,[{key:"setValue",value:function(t){var n=m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(x),S=function(t){function e(t,n,o){_(this,e);var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=o,s=i;if(i.__select=document.createElement("select"),a.isArray(r)){var u={};a.each(r,(function(t){u[t]=t})),r=u}return a.each(r,(function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),s.__select.appendChild(n)})),i.updateDisplay(),C.bind(i.__select,"change",(function(){var t=this.options[this.selectedIndex].value;s.setValue(t)})),i.domElement.appendChild(i.__select),i}return b(e,t),p(e,[{key:"setValue",value:function(t){var n=m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return C.isActive(this.__select)?this:(this.__select.value=this.getValue(),m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(x),O=function(t){function e(t,n){_(this,e);var o=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=o;function r(){i.setValue(i.__input.value)}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),C.bind(o.__input,"keyup",r),C.bind(o.__input,"change",r),C.bind(o.__input,"blur",(function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())})),C.bind(o.__input,"keydown",(function(t){13===t.keyCode&&this.blur()})),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return b(e,t),p(e,[{key:"updateDisplay",value:function(){return C.isActive(this.__input)||(this.__input.value=this.getValue()),m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(x);function T(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var R=function(t){function e(t,n,o){_(this,e);var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=o||{};return i.__min=r.min,i.__max=r.max,i.__step=r.step,a.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=T(i.__impliedStep),i}return b(e,t),p(e,[{key:"setValue",value:function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(t){return this.__min=t,this}},{key:"max",value:function(t){return this.__max=t,this}},{key:"step",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=T(t),this}}]),e}(x);var L=function(t){function e(t,n,o){_(this,e);var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,o));i.__truncationSuspended=!1;var r=i,s=void 0;function u(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}function l(t){var e=s-t.clientY;r.setValue(r.getValue()+e*r.__impliedStep),s=t.clientY}function c(){C.unbind(window,"mousemove",l),C.unbind(window,"mouseup",c),u()}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),C.bind(i.__input,"change",(function(){var t=parseFloat(r.__input.value);a.isNaN(t)||r.setValue(t)})),C.bind(i.__input,"blur",(function(){u()})),C.bind(i.__input,"mousedown",(function(t){C.bind(window,"mousemove",l),C.bind(window,"mouseup",c),s=t.clientY})),C.bind(i.__input,"keydown",(function(t){13===t.keyCode&&(r.__truncationSuspended=!0,this.blur(),r.__truncationSuspended=!1,u())})),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return b(e,t),p(e,[{key:"updateDisplay",value:function(){var t,n,o;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),n=this.__precision,o=Math.pow(10,n),Math.round(t*o)/o),m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(R);function B(t,e,n,o,i){return o+(t-e)/(n-e)*(i-o)}var N=function(t){function e(t,n,o,i,r){_(this,e);var a=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:o,max:i,step:r})),s=a;function u(t){t.preventDefault();var e=s.__background.getBoundingClientRect();return s.setValue(B(t.clientX,e.left,e.right,s.__min,s.__max)),!1}function l(){C.unbind(window,"mousemove",u),C.unbind(window,"mouseup",l),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function c(t){var e=t.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(B(e,n.left,n.right,s.__min,s.__max))}function d(){C.unbind(window,"touchmove",c),C.unbind(window,"touchend",d),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),C.bind(a.__background,"mousedown",(function(t){document.activeElement.blur(),C.bind(window,"mousemove",u),C.bind(window,"mouseup",l),u(t)})),C.bind(a.__background,"touchstart",(function(t){if(1!==t.touches.length)return;C.bind(window,"touchmove",c),C.bind(window,"touchend",d),c(t)})),C.addClass(a.__background,"slider"),C.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return b(e,t),p(e,[{key:"updateDisplay",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(R),H=function(t){function e(t,n,o){_(this,e);var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=i;return i.__button=document.createElement("div"),i.__button.innerHTML=void 0===o?"Fire":o,C.bind(i.__button,"click",(function(t){return t.preventDefault(),r.fire(),!1})),C.addClass(i.__button,"button"),i.domElement.appendChild(i.__button),i}return b(e,t),p(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(x),F=function(t){function e(t,n){_(this,e);var o=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));o.__color=new v(o.getValue()),o.__temp=new v(0);var i=o;o.domElement=document.createElement("div"),C.makeSelectable(o.domElement,!1),o.__selector=document.createElement("div"),o.__selector.className="selector",o.__saturation_field=document.createElement("div"),o.__saturation_field.className="saturation-field",o.__field_knob=document.createElement("div"),o.__field_knob.className="field-knob",o.__field_knob_border="2px solid ",o.__hue_knob=document.createElement("div"),o.__hue_knob.className="hue-knob",o.__hue_field=document.createElement("div"),o.__hue_field.className="hue-field",o.__input=document.createElement("input"),o.__input.type="text",o.__input_textShadow="0 1px 1px ",C.bind(o.__input,"keydown",(function(t){13===t.keyCode&&f.call(this)})),C.bind(o.__input,"blur",f),C.bind(o.__selector,"mousedown",(function(){C.addClass(this,"drag").bind(window,"mouseup",(function(){C.removeClass(i.__selector,"drag")}))})),C.bind(o.__selector,"touchstart",(function(){C.addClass(this,"drag").bind(window,"touchend",(function(){C.removeClass(i.__selector,"drag")}))}));var r,s=document.createElement("div");function u(t){m(t),C.bind(window,"mousemove",m),C.bind(window,"touchmove",m),C.bind(window,"mouseup",d),C.bind(window,"touchend",d)}function l(t){b(t),C.bind(window,"mousemove",b),C.bind(window,"touchmove",b),C.bind(window,"mouseup",h),C.bind(window,"touchend",h)}function d(){C.unbind(window,"mousemove",m),C.unbind(window,"touchmove",m),C.unbind(window,"mouseup",d),C.unbind(window,"touchend",d),p()}function h(){C.unbind(window,"mousemove",b),C.unbind(window,"touchmove",b),C.unbind(window,"mouseup",h),C.unbind(window,"touchend",h),p()}function f(){var t=c(this.value);!1!==t?(i.__color.__state=t,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function p(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function m(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__saturation_field.getBoundingClientRect(),n=t.touches&&t.touches[0]||t,o=n.clientX,r=n.clientY,a=(o-e.left)/(e.right-e.left),s=1-(r-e.top)/(e.bottom-e.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),i.__color.v=s,i.__color.s=a,i.setValue(i.__color.toOriginal()),!1}function b(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__hue_field.getBoundingClientRect(),n=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),i.__color.h=360*n,i.setValue(i.__color.toOriginal()),!1}return a.extend(o.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),a.extend(o.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:o.__field_knob_border+(o.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),a.extend(o.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),a.extend(o.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),a.extend(s.style,{width:"100%",height:"100%",background:"none"}),D(s,"top","rgba(0,0,0,0)","#000"),a.extend(o.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(r=o.__hue_field).style.background="",r.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",r.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.extend(o.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:o.__input_textShadow+"rgba(0,0,0,0.7)"}),C.bind(o.__saturation_field,"mousedown",u),C.bind(o.__saturation_field,"touchstart",u),C.bind(o.__field_knob,"mousedown",u),C.bind(o.__field_knob,"touchstart",u),C.bind(o.__hue_field,"mousedown",l),C.bind(o.__hue_field,"touchstart",l),o.__saturation_field.appendChild(s),o.__selector.appendChild(o.__field_knob),o.__selector.appendChild(o.__saturation_field),o.__selector.appendChild(o.__hue_field),o.__hue_field.appendChild(o.__hue_knob),o.domElement.appendChild(o.__input),o.domElement.appendChild(o.__selector),o.updateDisplay(),o}return b(e,t),p(e,[{key:"updateDisplay",value:function(){var t=c(this.getValue());if(!1!==t){var e=!1;a.each(v.COMPONENTS,(function(n){if(!a.isUndefined(t[n])&&!a.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}}),this),e&&a.extend(this.__color.__state,t)}a.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,o=255-n;a.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,D(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),a.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}}]),e}(x),P=["-moz-","-o-","-webkit-","-ms-",""];function D(t,e,n,o){t.style.background="",a.each(P,(function(i){t.style.cssText+="background: "+i+"linear-gradient("+e+", "+n+" 0%, "+o+" 100%); "}))}var V=function(t,e){var n=e||document,o=document.createElement("style");o.type="text/css",o.innerHTML=t;var i=n.getElementsByTagName("head")[0];try{i.appendChild(o)}catch(t){}},j='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',I=function(t,e){var n=t[e];return a.isArray(arguments[2])||a.isObject(arguments[2])?new S(t,e,arguments[2]):a.isNumber(n)?a.isNumber(arguments[2])&&a.isNumber(arguments[3])?a.isNumber(arguments[4])?new N(t,e,arguments[2],arguments[3],arguments[4]):new N(t,e,arguments[2],arguments[3]):a.isNumber(arguments[4])?new L(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new L(t,e,{min:arguments[2],max:arguments[3]}):a.isString(n)?new O(t,e):a.isFunction(n)?new H(t,e,""):a.isBoolean(n)?new k(t,e):null};var z=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},G=function(){function t(){_(this,t),this.backgroundElement=document.createElement("div"),a.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),C.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),a.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;C.bind(this.backgroundElement,"click",(function(){e.hide()}))}return p(t,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),a.defer((function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",C.unbind(t.domElement,"webkitTransitionEnd",e),C.unbind(t.domElement,"transitionend",e),C.unbind(t.domElement,"oTransitionEnd",e)};C.bind(this.domElement,"webkitTransitionEnd",e),C.bind(this.domElement,"transitionend",e),C.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-C.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-C.getHeight(this.domElement)/2+"px"}}]),t}();V(function(t){if(t&&"undefined"!=typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var U=function(){try{return!!window.localStorage}catch(t){return!1}}(),X=void 0,q=!0,Y=void 0,J=!1,K=[],Q=function t(e){var n=this,o=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),C.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],o=a.defaults(o,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),o=a.defaults(o,{resizable:o.autoPlace,hideable:o.autoPlace}),a.isUndefined(o.load)?o.load={preset:"Default"}:o.preset&&(o.load.preset=o.preset),a.isUndefined(o.parent)&&o.hideable&&K.push(this),o.resizable=a.isUndefined(o.parent)&&o.resizable,o.autoPlace&&a.isUndefined(o.scrollable)&&(o.scrollable=!0);var i,r=U&&"true"===localStorage.getItem(nt(this,"isLocal")),s=void 0,u=void 0;if(Object.defineProperties(this,{parent:{get:function(){return o.parent}},scrollable:{get:function(){return o.scrollable}},autoPlace:{get:function(){return o.autoPlace}},closeOnTop:{get:function(){return o.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:o.load.preset},set:function(t){n.parent?n.getRoot().preset=t:o.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),n.revert()}},width:{get:function(){return o.width},set:function(t){o.width=t,st(n,t)}},name:{get:function(){return o.name},set:function(t){o.name=t,u&&(u.innerHTML=o.name)}},closed:{get:function(){return o.closed},set:function(e){o.closed=e,o.closed?C.addClass(n.__ul,t.CLASS_CLOSED):C.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return o.load}},useLocalStorage:{get:function(){return r},set:function(t){U&&(r=t,t?C.bind(window,"unload",s):C.unbind(window,"unload",s),localStorage.setItem(nt(n,"isLocal"),t))}}}),a.isUndefined(o.parent)){if(this.closed=o.closed||!1,C.addClass(this.domElement,t.CLASS_MAIN),C.makeSelectable(this.domElement,!1),U&&r){n.useLocalStorage=!0;var l=localStorage.getItem(nt(this,"gui"));l&&(o.load=JSON.parse(l))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,C.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),o.closeOnTop?(C.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(C.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),C.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===o.closed&&(o.closed=!0);var c=document.createTextNode(o.name);C.addClass(c,"controller-name"),u=W(n,c);C.addClass(this.__ul,t.CLASS_CLOSED),C.addClass(u,"title"),C.bind(u,"click",(function(t){return t.preventDefault(),n.closed=!n.closed,!1})),o.closed||(this.closed=!1)}o.autoPlace&&(a.isUndefined(o.parent)&&(q&&(Y=document.createElement("div"),C.addClass(Y,"dg"),C.addClass(Y,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(Y),q=!1),Y.appendChild(this.domElement),C.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||st(n,o.width)),this.__resizeHandler=function(){n.onResizeDebounced()},C.bind(window,"resize",this.__resizeHandler),C.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),C.bind(this.__ul,"transitionend",this.__resizeHandler),C.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),o.resizable&&at(this),s=function(){U&&"true"===localStorage.getItem(nt(n,"isLocal"))&&localStorage.setItem(nt(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=s,o.parent||((i=n.getRoot()).width+=1,a.defer((function(){i.width-=1})))};function W(t,e,n){var o=document.createElement("li");return e&&o.appendChild(e),n?t.__ul.insertBefore(o,n):t.__ul.appendChild(o),t.onResize(),o}function Z(t){C.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&C.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function $(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}function tt(t,e){var n=t.getRoot(),o=n.__rememberedObjects.indexOf(e.object);if(-1!==o){var i=n.__rememberedObjectIndecesToControllers[o];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[o]=i),i[e.property]=e,n.load&&n.load.remembered){var r=n.load.remembered,a=void 0;if(r[t.preset])a=r[t.preset];else{if(!r.Default)return;a=r.Default}if(a[o]&&void 0!==a[o][e.property]){var s=a[o][e.property];e.initialValue=s,e.setValue(s)}}}}function et(t,e,n,o){if(void 0===e[n])throw new Error('Object "'+e+'" has no property "'+n+'"');var i=void 0;if(o.color)i=new F(e,n);else{var r=[e,n].concat(o.factoryArgs);i=I.apply(t,r)}o.before instanceof x&&(o.before=o.before.__li),tt(t,i),C.addClass(i.domElement,"c");var s=document.createElement("span");C.addClass(s,"property-name"),s.innerHTML=i.property;var u=document.createElement("div");u.appendChild(s),u.appendChild(i.domElement);var l=W(t,u,o.before);return C.addClass(l,Q.CLASS_CONTROLLER_ROW),i instanceof F?C.addClass(l,"color"):C.addClass(l,f(i.getValue())),function(t,e,n){if(n.__li=e,n.__gui=t,a.extend(n,{options:function(e){if(arguments.length>1){var o=n.__li.nextElementSibling;return n.remove(),et(t,n.object,n.property,{before:o,factoryArgs:[a.toArray(arguments)]})}if(a.isArray(e)||a.isObject(e)){var i=n.__li.nextElementSibling;return n.remove(),et(t,n.object,n.property,{before:i,factoryArgs:[e]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof N){var o=new L(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});a.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(t){var e=n[t],i=o[t];n[t]=o[t]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(o,t),e.apply(n,t)}})),C.addClass(e,"has-slider"),n.domElement.insertBefore(o.domElement,n.domElement.firstElementChild)}else if(n instanceof L){var i=function(e){if(a.isNumber(n.__min)&&a.isNumber(n.__max)){var o=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var r=et(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return r.name(o),i&&r.listen(),r}return e};n.min=a.compose(i,n.min),n.max=a.compose(i,n.max)}else n instanceof k?(C.bind(e,"click",(function(){C.fakeEvent(n.__checkbox,"click")})),C.bind(n.__checkbox,"click",(function(t){t.stopPropagation()}))):n instanceof H?(C.bind(e,"click",(function(){C.fakeEvent(n.__button,"click")})),C.bind(e,"mouseover",(function(){C.addClass(n.__button,"hover")})),C.bind(e,"mouseout",(function(){C.removeClass(n.__button,"hover")}))):n instanceof F&&(C.addClass(e,"color"),n.updateDisplay=a.compose((function(t){return e.style.borderLeftColor=n.__color.toString(),t}),n.updateDisplay),n.updateDisplay());n.setValue=a.compose((function(e){return t.getRoot().__preset_select&&n.isModified()&&$(t.getRoot(),!0),e}),n.setValue)}(t,l,i),t.__controllers.push(i),i}function nt(t,e){return document.location.href+"."+e}function ot(t,e,n){var o=document.createElement("option");o.innerHTML=e,o.value=e,t.__preset_select.appendChild(o),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function it(t,e){e.style.display=t.useLocalStorage?"block":"none"}function rt(t){var e=t.__save_row=document.createElement("li");C.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),C.addClass(e,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",C.addClass(n,"button gears");var o=document.createElement("span");o.innerHTML="Save",C.addClass(o,"button"),C.addClass(o,"save");var i=document.createElement("span");i.innerHTML="New",C.addClass(i,"button"),C.addClass(i,"save-as");var r=document.createElement("span");r.innerHTML="Revert",C.addClass(r,"button"),C.addClass(r,"revert");var s=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?a.each(t.load.remembered,(function(e,n){ot(t,n,n===t.preset)})):ot(t,"Default",!1),C.bind(s,"change",(function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value})),e.appendChild(s),e.appendChild(n),e.appendChild(o),e.appendChild(i),e.appendChild(r),U){var u=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(nt(0,"isLocal"))&&l.setAttribute("checked","checked"),it(t,u),C.bind(l,"change",(function(){t.useLocalStorage=!t.useLocalStorage,it(t,u)}))}var c=document.getElementById("dg-new-constructor");C.bind(c,"keydown",(function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||X.hide()})),C.bind(n,"click",(function(){c.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),X.show(),c.focus(),c.select()})),C.bind(o,"click",(function(){t.save()})),C.bind(i,"click",(function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)})),C.bind(r,"click",(function(){t.revert()}))}function at(t){var e=void 0;function n(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function o(){C.removeClass(t.__closeButton,Q.CLASS_DRAG),C.unbind(window,"mousemove",n),C.unbind(window,"mouseup",o)}function i(i){return i.preventDefault(),e=i.clientX,C.addClass(t.__closeButton,Q.CLASS_DRAG),C.bind(window,"mousemove",n),C.bind(window,"mouseup",o),!1}t.__resize_handle=document.createElement("div"),a.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),C.bind(t.__resize_handle,"mousedown",i),C.bind(t.__closeButton,"mousedown",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function st(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function ut(t,e){var n={};return a.each(t.__rememberedObjects,(function(o,i){var r={},s=t.__rememberedObjectIndecesToControllers[i];a.each(s,(function(t,n){r[n]=e?t.initialValue:t.getValue()})),n[i]=r})),n}Q.toggleHide=function(){J=!J,a.each(K,(function(t){t.domElement.style.display=J?"none":""}))},Q.CLASS_AUTO_PLACE="a",Q.CLASS_AUTO_PLACE_CONTAINER="ac",Q.CLASS_MAIN="main",Q.CLASS_CONTROLLER_ROW="cr",Q.CLASS_TOO_TALL="taller-than-window",Q.CLASS_CLOSED="closed",Q.CLASS_CLOSE_BUTTON="close-button",Q.CLASS_CLOSE_TOP="close-top",Q.CLASS_CLOSE_BOTTOM="close-bottom",Q.CLASS_DRAG="drag",Q.DEFAULT_WIDTH=245,Q.TEXT_CLOSED="Close Controls",Q.TEXT_OPEN="Open Controls",Q._keydownHandler=function(t){"text"===document.activeElement.type||72!==t.which&&72!==t.keyCode||Q.toggleHide()},C.bind(window,"keydown",Q._keydownHandler,!1),a.extend(Q.prototype,{add:function(t,e){return et(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return et(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;a.defer((function(){e.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&Y.removeChild(this.domElement);var t=this;a.each(this.__folders,(function(e){t.removeFolder(e)})),C.unbind(window,"keydown",Q._keydownHandler,!1),Z(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new Q(e);this.__folders[t]=n;var o=W(this,n.domElement);return C.addClass(o,"folder"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],Z(t);var e=this;a.each(t.__folders,(function(e){t.removeFolder(e)})),a.defer((function(){e.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=C.getOffset(t.__ul).top,n=0;a.each(t.__ul.childNodes,(function(e){t.autoPlace&&e===t.__save_row||(n+=C.getHeight(e))})),window.innerHeight-e-20<n?(C.addClass(t.domElement,Q.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(C.removeClass(t.domElement,Q.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&a.defer((function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"})),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:a.debounce((function(){this.onResize()}),50),remember:function(){if(a.isUndefined(X)&&((X=new G).domElement.innerHTML=j),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;a.each(Array.prototype.slice.call(arguments),(function(e){0===t.__rememberedObjects.length&&rt(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)})),this.autoPlace&&st(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=ut(this)),t.folders={},a.each(this.__folders,(function(e,n){t.folders[n]=e.getSaveObject()})),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ut(this),$(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=ut(this,!0)),this.load.remembered[t]=ut(this),this.preset=t,ot(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){a.each(this.__controllers,(function(e){this.getRoot().load.remembered?tt(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())}),this),a.each(this.__folders,(function(t){t.revert(t)})),t||$(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&function t(e){0!==e.length&&z.call(window,(function(){t(e)}));a.each(e,(function(t){t.updateDisplay()}))}(this.__listening)},updateDisplay:function(){a.each(this.__controllers,(function(t){t.updateDisplay()})),a.each(this.__folders,(function(t){t.updateDisplay()}))}});var lt=Q}}]);
//# sourceMappingURL=common-919659.js.map